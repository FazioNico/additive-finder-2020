function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{qQUj:function(t,e,n){"use strict";n.r(e),n.d(e,"ListModule",(function(){return P}));var i,r,a,o,c=n("tyNb"),l=n("mrSG"),s=n("fXoL"),u=n("2Vo4"),b=n("lJxs"),f=n("AytR"),d=n("tk/3"),p=((r=function(){function t(e){_classCallCheck(this,t),this._http=e,this._data$=new u.a(null),this.data$=this._data$.asObservable()}return _createClass(t,[{key:"load",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.get(f.a.url).pipe(Object(b.a)((function(t){return null==t?void 0:t.additives}))).toPromise();case 2:e=t.sent,this._data$.next(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getItemById",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._data$.value,e.t0){e.next=4;break}return e.next=4,this.load();case 4:return e.abrupt("return",this._data$.value.find((function(e){return e.id===t}))||alert("no data"));case 5:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Qb(d.a))},r.\u0275prov=s.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=((i=function(){function t(e){_classCallCheck(this,t),this._http=e}return _createClass(t,[{key:"getByAdditive",value:function(t){return this._http.get("https://fr.wikipedia.org/api/rest_v1/page/summary/e"+t).pipe(Object(b.a)((function(t){return null==t?void 0:t.extract_html}))).toPromise().catch((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||i)(s.Qb(d.a))},i.\u0275prov=s.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),v=n("TEn/"),m=n("ofXK"),g=((o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e="#f44336";switch(!0){case"0"===t:e="#4caf50";break;case"1"===t:e="#ffa726";break;case"2"===t:e="#ff7043";break;case"3"===t:e="#f44336"}return e}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275pipe=s.Ib({name:"color",type:o,pure:!0}),o),k=((a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){var e="rien";switch(!0){case"0"===t:e="acceptable";break;case"1"===t:e="rapports contradictoires";break;case"2"===t:e="\xe0 risque";break;case"3"===t:e="\xe0 \xe9viter"}return e}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275pipe=s.Ib({name:"level",type:a,pure:!0}),a);function y(t,e){if(1&t&&(s.Mb(0,"ion-card"),s.Mb(1,"ion-card-content"),s.Kb(2,"div",9),s.Lb(),s.Lb()),2&t){var n=s.Wb();s.zb(2),s.bc("innerHTML",n.details,s.fc)}}var _,w=function(t){return{"background-color":t}},L=function(t){return{color:t}},M=((_=function(){function t(e,n,i,r){_classCallCheck(this,t),this._api=e,this._wiki=n,this._route=i,this._router=r,this.details=null}return _createClass(t,[{key:"ionViewWillEnter",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("ionViewWillEnter"),e=this._route.snapshot.params.id,n=void 0===e?null:e){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this._api.getItemById(n);case 6:if(i=t.sent){t.next=9;break}return t.abrupt("return",this._router.navigate(["../tabs/search"]));case 9:return this.item=i,t.next=12,this._wiki.getByAdditive(n);case 12:this.details=t.sent;case 13:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Jb(p),s.Jb(h),s.Jb(c.a),s.Jb(c.e))},_.\u0275cmp=s.Db({type:_,selectors:[["app-item-page"]],decls:24,vars:18,consts:[["color","light","slot","start"],["color","light"],[1,"ion-text-center"],[1,"ion-align-items-center",3,"ngStyle"],["color","light",1,"ion-padding"],[1,"ion-padding"],[1,"ion-padding-start"],[3,"ngStyle"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,e){1&t&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Kb(2,"ion-back-button",0),s.Mb(3,"ion-title",1),s.jc(4),s.Lb(),s.Lb(),s.Lb(),s.Mb(5,"ion-content"),s.Mb(6,"ion-card",2),s.Mb(7,"ion-card-header",3),s.Xb(8,"color"),s.Mb(9,"ion-title",4),s.jc(10),s.Lb(),s.Lb(),s.Mb(11,"ion-card-content"),s.Mb(12,"ion-text",5),s.Mb(13,"h1"),s.jc(14),s.Lb(),s.Mb(15,"p"),s.jc(16),s.Lb(),s.Lb(),s.Kb(17,"hr"),s.Mb(18,"ion-text",6),s.Mb(19,"p",7),s.Xb(20,"color"),s.jc(21),s.Xb(22,"level"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.ic(23,y,3,1,"ion-card",8),s.Lb()),2&t&&(s.zb(4),s.lc("D\xe9tails E",null==e.item?null:e.item.id,""),s.zb(3),s.bc("ngStyle",s.cc(14,w,s.Yb(8,8,null==e.item?null:e.item.level))),s.zb(3),s.lc("E",null==e.item?null:e.item.id,""),s.zb(4),s.kc(null==e.item?null:e.item.name),s.zb(2),s.kc(null==e.item?null:e.item.type),s.zb(3),s.bc("ngStyle",s.cc(16,L,s.Yb(20,10,null==e.item?null:e.item.level))),s.zb(2),s.kc(s.Yb(22,12,null==e.item?null:e.item.level)),s.zb(2),s.bc("ngIf",e.details))},directives:[v.k,v.y,v.b,v.c,v.x,v.i,v.e,v.g,m.k,v.f,v.v,m.j],pipes:[g,k],styles:["app-item-page hr{background-color:var(--ion-color-light)}"],encapsulation:2}),_),C=function(t){return{"background-color":t}};function x(t,e){if(1&t&&(s.Mb(0,"ion-item",6),s.Mb(1,"ion-thumbnail",7),s.Xb(2,"color"),s.jc(3),s.Lb(),s.Mb(4,"ion-label",8),s.Mb(5,"ion-text",9),s.Mb(6,"h3"),s.jc(7),s.Lb(),s.Lb(),s.Mb(8,"p"),s.jc(9),s.Lb(),s.Lb(),s.Kb(10,"ion-icon",10),s.Lb()),2&t){var n=e.$implicit;s.bc("routerLink",n.id),s.zb(1),s.bc("ngStyle",s.cc(7,C,s.Yb(2,5,null==n?null:n.level))),s.zb(2),s.lc(" E",n.id," "),s.zb(4),s.kc(n.name),s.zb(2),s.kc(n.type)}}function j(t,e){if(1&t&&(s.Mb(0,"ion-list",4),s.ic(1,x,11,9,"ion-item",5),s.Lb()),2&t){var n=e.ngIf,i=s.Wb();s.zb(1),s.bc("ngForOf",n.slice(0,i.max))}}function z(t,e){if(1&t){var n=s.Nb();s.Mb(0,"ion-button",11),s.Ub("click",(function(){return s.ec(n),s.Wb().loadMore()})),s.jc(1,"+"),s.Lb()}}var I,$,O,J=[{path:"",children:[{path:"",component:(I=function(){function t(e){_classCallCheck(this,t),this._api=e,this.max=10}return _createClass(t,[{key:"ngOnInit",value:function(){this._api.load(),this.additives$=this._api.data$}},{key:"loadMore",value:function(){this.max=this.max+10}}]),t}(),I.\u0275fac=function(t){return new(t||I)(s.Jb(p))},I.\u0275cmp=s.Db({type:I,selectors:[["app-list-page"]],decls:10,vars:6,consts:[["color","light"],["class","ion-no-padding",4,"ngIf"],[1,"ion-text-center","ion-padding"],[3,"click",4,"ngIf"],[1,"ion-no-padding"],["class","ion-no-padding ion-no-margin",3,"routerLink",4,"ngFor","ngForOf"],[1,"ion-no-padding","ion-no-margin",3,"routerLink"],["slot","start",3,"ngStyle"],[1,"ion-text-wrap"],["color","dark"],["color","dark","name","arrow-forward-circle"],[3,"click"]],template:function(t,e){if(1&t&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-title",0),s.jc(3,"Additives Finder"),s.Lb(),s.Lb(),s.Lb(),s.Mb(4,"ion-content"),s.ic(5,j,2,1,"ion-list",1),s.Xb(6,"async"),s.Mb(7,"div",2),s.ic(8,z,2,0,"ion-button",3),s.Xb(9,"async"),s.Lb(),s.Lb()),2&t){var n,i=(null==(n=s.Yb(9,4,e.additives$))?null:n.length)>=e.max;s.zb(5),s.bc("ngIf",s.Yb(6,2,e.additives$)),s.zb(3),s.bc("ngIf",i)}},directives:[v.k,v.y,v.x,v.i,m.j,v.p,m.i,v.n,v.B,c.f,v.w,m.k,v.o,v.v,v.l,v.d],pipes:[m.b,g],styles:[""]}),I)},{path:":id",component:M}]}],X=(($=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:$}),$.\u0275inj=s.Gb({factory:function(t){return new(t||$)},imports:[[c.g.forChild(J)],c.g]}),$),E=n("PCNd"),P=((O=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:O}),O.\u0275inj=s.Gb({factory:function(t){return new(t||O)},imports:[[E.a,X]]}),O)}}]);