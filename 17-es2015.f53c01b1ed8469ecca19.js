(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{qQUj:function(t,n,i){"use strict";i.r(n),i.d(n,"ListModule",(function(){return z}));var e=i("tyNb"),o=i("mrSG"),r=i("fXoL"),c=i("2Vo4"),a=i("lJxs"),l=i("AytR"),b=i("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this._data$=new c.a(null),this.data$=this._data$.asObservable()}load(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this._http.get(l.a.url).pipe(Object(a.a)(t=>null==t?void 0:t.additives)).toPromise();this._data$.next(t)}))}getItemById(t){return Object(o.a)(this,void 0,void 0,(function*(){return this._data$.value||(yield this.load()),this._data$.value.find(n=>n.id===t)||alert("no data")}))}}return t.\u0275fac=function(n){return new(n||t)(r.Qb(b.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t){this._http=t}getByAdditive(t){return this._http.get("https://fr.wikipedia.org/api/rest_v1/page/summary/e"+t).pipe(Object(a.a)(t=>null==t?void 0:t.extract_html)).toPromise().catch(t=>t)}}return t.\u0275fac=function(n){return new(n||t)(r.Qb(b.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("TEn/"),p=i("ofXK");let f=(()=>{class t{transform(t){let n="#f44336";switch(!0){case"0"===t:n="#4caf50";break;case"1"===t:n="#ffa726";break;case"2"===t:n="#ff7043";break;case"3"===t:n="#f44336"}return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=r.Ib({name:"color",type:t,pure:!0}),t})(),h=(()=>{class t{transform(t){let n="rien";switch(!0){case"0"===t:n="acceptable";break;case"1"===t:n="rapports contradictoires";break;case"2"===t:n="\xe0 risque";break;case"3"===t:n="\xe0 \xe9viter"}return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=r.Ib({name:"level",type:t,pure:!0}),t})();function m(t,n){if(1&t&&(r.Mb(0,"ion-card"),r.Mb(1,"ion-card-content"),r.Kb(2,"div",9),r.Lb(),r.Lb()),2&t){const t=r.Wb();r.zb(2),r.bc("innerHTML",t.details,r.fc)}}const g=function(t){return{"background-color":t}},v=function(t){return{color:t}};let k=(()=>{class t{constructor(t,n,i,e){this._api=t,this._wiki=n,this._route=i,this._router=e,this.details=null}ionViewWillEnter(){return Object(o.a)(this,void 0,void 0,(function*(){console.log("ionViewWillEnter");const{id:t=null}=this._route.snapshot.params;if(!t)return;const n=yield this._api.getItemById(t);if(!n)return this._router.navigate(["../tabs/search"]);this.item=n,this.details=yield this._wiki.getByAdditive(t)}))}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(s),r.Jb(d),r.Jb(e.a),r.Jb(e.e))},t.\u0275cmp=r.Db({type:t,selectors:[["app-item-page"]],decls:24,vars:18,consts:[["color","light","slot","start"],["color","light"],[1,"ion-text-center"],[1,"ion-align-items-center",3,"ngStyle"],["color","light",1,"ion-padding"],[1,"ion-padding"],[1,"ion-padding-start"],[3,"ngStyle"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,n){1&t&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar"),r.Kb(2,"ion-back-button",0),r.Mb(3,"ion-title",1),r.jc(4),r.Lb(),r.Lb(),r.Lb(),r.Mb(5,"ion-content"),r.Mb(6,"ion-card",2),r.Mb(7,"ion-card-header",3),r.Xb(8,"color"),r.Mb(9,"ion-title",4),r.jc(10),r.Lb(),r.Lb(),r.Mb(11,"ion-card-content"),r.Mb(12,"ion-text",5),r.Mb(13,"h1"),r.jc(14),r.Lb(),r.Mb(15,"p"),r.jc(16),r.Lb(),r.Lb(),r.Kb(17,"hr"),r.Mb(18,"ion-text",6),r.Mb(19,"p",7),r.Xb(20,"color"),r.jc(21),r.Xb(22,"level"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.ic(23,m,3,1,"ion-card",8),r.Lb()),2&t&&(r.zb(4),r.lc("D\xe9tails E",null==n.item?null:n.item.id,""),r.zb(3),r.bc("ngStyle",r.cc(14,g,r.Yb(8,8,null==n.item?null:n.item.level))),r.zb(3),r.lc("E",null==n.item?null:n.item.id,""),r.zb(4),r.kc(null==n.item?null:n.item.name),r.zb(2),r.kc(null==n.item?null:n.item.type),r.zb(3),r.bc("ngStyle",r.cc(16,v,r.Yb(20,10,null==n.item?null:n.item.level))),r.zb(2),r.kc(r.Yb(22,12,null==n.item?null:n.item.level)),r.zb(2),r.bc("ngIf",n.details))},directives:[u.k,u.y,u.b,u.c,u.x,u.i,u.e,u.g,p.k,u.f,u.v,p.j],pipes:[f,h],styles:["app-item-page hr{background-color:var(--ion-color-light)}"],encapsulation:2}),t})();const y=function(t){return{"background-color":t}};function L(t,n){if(1&t&&(r.Mb(0,"ion-item",6),r.Mb(1,"ion-thumbnail",7),r.Xb(2,"color"),r.jc(3),r.Lb(),r.Mb(4,"ion-label",8),r.Mb(5,"ion-text",9),r.Mb(6,"h3"),r.jc(7),r.Lb(),r.Lb(),r.Mb(8,"p"),r.jc(9),r.Lb(),r.Lb(),r.Kb(10,"ion-icon",10),r.Lb()),2&t){const t=n.$implicit;r.bc("routerLink",t.id),r.zb(1),r.bc("ngStyle",r.cc(7,y,r.Yb(2,5,null==t?null:t.level))),r.zb(2),r.lc(" E",t.id," "),r.zb(4),r.kc(t.name),r.zb(2),r.kc(t.type)}}function M(t,n){if(1&t&&(r.Mb(0,"ion-list",4),r.ic(1,L,11,9,"ion-item",5),r.Lb()),2&t){const t=n.ngIf,i=r.Wb();r.zb(1),r.bc("ngForOf",t.slice(0,i.max))}}function w(t,n){if(1&t){const t=r.Nb();r.Mb(0,"ion-button",11),r.Ub("click",(function(){return r.ec(t),r.Wb().loadMore()})),r.jc(1,"+"),r.Lb()}}const _=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t){this._api=t,this.max=10}ngOnInit(){this._api.load(),this.additives$=this._api.data$}loadMore(){this.max=this.max+10}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(s))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-page"]],decls:10,vars:6,consts:[["color","light"],["class","ion-no-padding",4,"ngIf"],[1,"ion-text-center","ion-padding"],[3,"click",4,"ngIf"],[1,"ion-no-padding"],["class","ion-no-padding ion-no-margin",3,"routerLink",4,"ngFor","ngForOf"],[1,"ion-no-padding","ion-no-margin",3,"routerLink"],["slot","start",3,"ngStyle"],[1,"ion-text-wrap"],["color","dark"],["color","dark","name","arrow-forward-circle"],[3,"click"]],template:function(t,n){if(1&t&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-title",0),r.jc(3,"Additives Finder"),r.Lb(),r.Lb(),r.Lb(),r.Mb(4,"ion-content"),r.ic(5,M,2,1,"ion-list",1),r.Xb(6,"async"),r.Mb(7,"div",2),r.ic(8,w,2,0,"ion-button",3),r.Xb(9,"async"),r.Lb(),r.Lb()),2&t){var i;const t=(null==(i=r.Yb(9,4,n.additives$))?null:i.length)>=n.max;r.zb(5),r.bc("ngIf",r.Yb(6,2,n.additives$)),r.zb(3),r.bc("ngIf",t)}},directives:[u.k,u.y,u.x,u.i,p.j,u.p,p.i,u.n,u.B,e.f,u.w,p.k,u.o,u.v,u.l,u.d],pipes:[p.b,f],styles:[""]}),t})()},{path:":id",component:k}]}];let j=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(n){return new(n||t)},imports:[[e.g.forChild(_)],e.g]}),t})();var x=i("PCNd");let z=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(n){return new(n||t)},imports:[[x.a,j]]}),t})()}}]);